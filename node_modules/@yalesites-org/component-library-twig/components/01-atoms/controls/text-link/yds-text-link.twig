{#
 # Available props:
 # - link__type: 
 #   - normal (default), 
 #   - download
 #   - external (adds icon), 
 #   - target-blank (adds icon + opens in new window/tab),
 #   - with-chevron
 # - link__style: underline (default), no-underline, no-animation
 #
 # Available variables:
 # - link__content - the content of the link (typically text)
 # - link__url - the url this link should poing to
 # - link__attributes - array of attribute,value pairs
 #
 # Available blocks:
 # - link__content - used to replace the content of the link
 #     Example: to insert the image component
 #}

{% set link__base_class = link__base_class|default('link') %}
{% set link__attributes = link__attributes|default({}) %}

{% if link__type == 'external' or link__type == 'target-blank' or link__type == 'download' or link__type == 'with-chevron' %}
  {% set link__modifiers = ['with-icon'] %}
{% endif %}

{% set link__attributes = link__attributes|merge({
  'data-link-style': link__style|default('underline'),
  'data-link-type': link__type|default('normal'),
  class: bem(link__base_class, link__modifiers, link__blockname, link__extra_class),
  href: link__url,
}) %}

<a {{ add_attributes(link__attributes) }}>
  {% block link__content %}
    {{- link__content -}}
  {% endblock %}
  
  {# if link__type is external, target-blank, download, or with-chevron we add icons #}
  {% if link__type == 'external' %}
    {% include "@atoms/images/fa-icons/_yds-fa-icon.twig" with {
      fa_icon__title: 'Arrow Up Right',
      fa_icon__extra_class: ['fa-solid fa-arrow-up-right'],
      fa_icon__decorative: true,
      fa_icon__sr_title: '(link is external)',
      } 
    %}
  {% endif %}
  {% if link__type == 'target-blank' %}
    {% include "@atoms/images/fa-icons/_yds-fa-icon.twig" with {
      fa_icon__title: 'Up Right',
      fa_icon__extra_class: ['fa-solid fa-arrow-up-right-from-square'],
      fa_icon__decorative: true,
      fa_icon__sr_title: '(opens in a new window/tab)',
      } 
    %}
  {% endif %}
  {% if link__type == 'download' %} 
    {% include "@atoms/images/fa-icons/_yds-fa-icon.twig" with {
      fa_icon__title: 'Circle Down',
      fa_icon__extra_class: ['fa-regular fa-circle-down'],
      fa_icon__decorative: true,
      fa_icon__sr_title: '(file download)',
      } 
    %}
  {% endif %}
  {% if link__type == 'with-chevron' %}
    {% include "@atoms/images/fa-icons/_yds-fa-icon.twig" with {
      fa_icon__title: 'Angle Right',
      fa_icon__extra_class: ['fa-solid fa-angle-right'],
      fa_icon__decorative: true,
      } 
    %}
  {% endif %}
</a>
