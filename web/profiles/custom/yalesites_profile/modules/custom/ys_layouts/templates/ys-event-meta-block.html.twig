{#
  Available variables

  event_title__heading - The title of the event
  event_dates - array of dates for this event which contains the following keys:
    formatted_start_date
    formatted_start_time
    formatted_end_date
    formatted_end_time
    is_all_day
  ics_url - Localist ICS includes all dates. Calculated only includes the first date.
  ticket_url - the URL to purchace tickets.
  ticket_cost - A string with information about ticket cost.
  place - An array of place information with the following keys:
    address
    city
    state
    postal_code
    latitude
    longitude
  event_types - an array of event types with the following keys:
    name
    url - this links to the Drupal taxonomy URL which we may or may not use in v1.
  description - a WYSIWYG description
  event_meta__cta_primary__href - An external event URL
  event_meta__cta_primary__content - External event URL text

#}

{# All TWIG variables are named appropriately and pass through to this template #}

{% if event_dates %}
  {{ attach_library('atomic/event-localist') }}

  {% if not ics_url %}

    {% set start_datetime = date(event_dates.0.value|date_modify('+0 hour')) %}
    {% set end_datetime = date(event_dates.0.end_value|date_modify('+0 hour')) %}
    {% set description = canonical_url %}
    {% set ics_url = calendar_link('ics', event_title__heading, start_datetime, end_datetime, event_dates.0.is_all_day, description, event_experience.0.name) %}

  {% endif %}

  {% include '@molecules/meta/event-meta/yds-event-meta-localist.twig' %}
{% else %}
  {% include '@molecules/meta/event-meta/yds-event-meta.twig' %}
{% endif %}
