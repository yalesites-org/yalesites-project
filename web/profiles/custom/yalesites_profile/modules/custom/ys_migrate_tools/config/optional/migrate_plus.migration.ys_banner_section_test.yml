id: ys_banner_section_test
label: 'Banner Section Test - Hero Content Migration'
migration_group: ys_field_tests

source:
  plugin: embedded_data
  data_rows:
    - id: 1
      title: 'Banner Section Test Page'
      hero_title: 'Welcome to Our Enhanced Site'
      hero_subtitle: 'Discover amazing content and features'
      hero_image: 'https://picsum.photos/1200/600.jpg'
  ids:
    id:
      type: integer

process:
  # Basic node properties
  type:
    plugin: default_value
    default_value: page
  title: title
  status:
    plugin: default_value
    default_value: 1
  uid:
    plugin: default_value
    default_value: 1
    
  # Process hero image
  '@hero_media':
    plugin: process_media_field
    source: hero_image
    
  # Create layout targeting Banner Section
  layout_builder__layout:
    plugin: configurable_layout_builder
    source: id
    target_section: 'Banner Section'
    append_mode: true
    sections:
      - layout: layout_onecol
        layout_settings:
          label: 'Banner Section'
        regions:
          content:
            # Grand Hero block for banner area
            - type: grand_hero
              source: create
              data:
                field_heading: '@hero_title'
                field_subheading: '@hero_subtitle'
                field_media: '@hero_media'
                field_style_variation: 'default'

destination:
  plugin: 'entity:node'
  default_bundle: page

migration_dependencies: {}