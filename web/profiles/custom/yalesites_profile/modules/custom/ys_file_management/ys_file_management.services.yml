services:
  logger.channel.ys_file_management:
    parent: logger.channel_base
    arguments: ['ys_file_management']

  ys_file_management.media_usage_detector:
    class: Drupal\ys_file_management\Service\MediaUsageDetector
    arguments: ['@entity_type.manager', '@entity_field.manager', '@logger.channel.ys_file_management', '@entity_type.bundle.info']

  ys_file_management.media_file_handler:
    class: Drupal\ys_file_management\Service\MediaFileHandler
    arguments: ['@file.usage', '@messenger', '@logger.channel.ys_file_management', '@current_user', '@request_stack']

  ys_file_management.media_delete_message_builder:
    class: Drupal\ys_file_management\Service\MediaDeleteMessageBuilder

  ys_file_management.layout_builder_usage_tracker:
    class: Drupal\ys_file_management\Service\LayoutBuilderUsageTracker
    arguments: ['@database', '@entity_type.manager', '@logger.channel.ys_file_management']

  ys_file_management.route_subscriber:
    class: Drupal\ys_file_management\Routing\RouteSubscriber
    tags:
      - { name: event_subscriber }
